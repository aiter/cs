### 唯一索引 和 普通索引的选择
> 普通索引+changelog

### innodb索引
* 每一个索引是一棵b+树
* 主键索引的叶子节点包含一行的所有字段数据
* 其他的所有的叶子接待包含主键ID
> 使用其他索引查询数据时，找到主键ID，然后再从主键索引去查询相应的数据，这个过程叫“回表”
> 如果查询的字段(select col1 from xxx) 中的col1中本身在索引中，那么就不用回表

### 为什么是b+树索引
#### hash索引
* 单条数据查询，hash的时间复杂度O(1). hash一个值，对应到数组下标
* 范围查询复杂，需要全表扫描

#### 二叉树
* 时间复杂度O(logN)
* 数据量大时，树的高度太高，在考虑到索引比较大时，不会完全都在内存中，需要放在磁盘上，读取磁盘的io耗时长。那么就要考虑尽可能的减少读取磁盘的次数。
* 每次读取磁盘，不是只读取需要的数据，而是把“她周围”的数据一起读取到内存

#### b+树
* 每个节点的儿子很多
* 树的高度，就可以比较低
* 可以减少读取磁盘的次数
* 提高索引效率
* 前后叶子节点，可以组成链表，范围查询就是前后符合要求的节点

## 正排索引
> Forward Index
> * doc1--> value
> * doc2--> value2

## 倒排索引
> Inverted Index
> * term1 -- > doc1. doc4
> * term2 -- > doc1. doc2. doc3. doc4

## 链表归并
> 一个链表，有一个指针

## 问题
* 分布式集群时，同一个term,如何分布？ 
> * 索引量大的话，doc直接hash到不同的分片上，搜索时，对各个分片搜索，然后合并结果。
* 截断，term链如何做？



+-----------------------+
| Solor | Elasticsearch |
+-----------------------+
|        Lucene         |
+-----------------------+

## 如何做增量更新
* 双缓冲 Double Buffer
> * 问题：两倍的内存
> * 双份索引，不需要有锁
> * 更新另一份，更新后，切换索引

* 全量+增量(增量使用 Double Buffer)
> * 增量包括：增量和删除
> * “定期”合并增量到全量索引
